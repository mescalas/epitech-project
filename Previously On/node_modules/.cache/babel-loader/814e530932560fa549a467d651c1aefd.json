{"remainingRequest":"/Users/mateoescalas/coursepitech/previously_on/frontend/node_modules/babel-loader/lib/index.js!/Users/mateoescalas/coursepitech/previously_on/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/mateoescalas/coursepitech/previously_on/frontend/src/router/index.js","dependencies":[{"path":"/Users/mateoescalas/coursepitech/previously_on/frontend/src/router/index.js","mtime":1630930607814},{"path":"/Users/mateoescalas/coursepitech/previously_on/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1630917526874},{"path":"/Users/mateoescalas/coursepitech/previously_on/frontend/node_modules/babel-loader/lib/index.js","mtime":1630917526866},{"path":"/Users/mateoescalas/coursepitech/previously_on/frontend/node_modules/eslint-loader/index.js","mtime":1630917528161}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXRlb2VzY2FsYXMvY291cnNlcGl0ZWNoL3ByZXZpb3VzbHlfb24vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBMb2dpbiBmcm9tICcuLi92aWV3cy9Mb2dpbi52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAnL2hvbWUnLAogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL0hvbWUudnVlJyk7CiAgfSwKICBiZWZvcmVFbnRlcjogZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIFVzZXJNaWRkbGV3YXJlKG5leHQpOwogIH0KfSwgewogIHBhdGg6ICcvYWJvdXQnLAogIG5hbWU6ICdBYm91dCcsCiAgLy8gcm91dGUgbGV2ZWwgY29kZS1zcGxpdHRpbmcKICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4KICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL0Fib3V0LnZ1ZScpOwogIH0KfV07CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOwoKZnVuY3Rpb24gVXNlck1pZGRsZXdhcmUoX3gpIHsKICByZXR1cm4gX1VzZXJNaWRkbGV3YXJlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9Vc2VyTWlkZGxld2FyZSgpIHsKICBfVXNlck1pZGRsZXdhcmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobmV4dCkgewogICAgdmFyIGRhdGE7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdCQycpKTsKICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuYmV0YXNlcmllcy5jb20vbWVtYmVycy9pc19hY3RpdmUnLCB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IGRhdGEudG9rZW4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ0JDJyk7CiAgICAgICAgICAgIG5leHQoKTsKCiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOF1dKTsKICB9KSk7CiAgcmV0dXJuIF9Vc2VyTWlkZGxld2FyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/Users/mateoescalas/coursepitech/previously_on/frontend/src/router/index.js"],"names":["createRouter","createWebHistory","Login","axios","routes","path","name","component","beforeEnter","to","from","next","UserMiddleware","router","history","data","JSON","parse","localStorage","getItem","get","params","access_token","token","console","log","removeItem"],"mappings":";;;;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,MAAM,GAAG,CACd;AACCC,EAAAA,IAAI,EAAE,GADP;AAECC,EAAAA,IAAI,EAAE,OAFP;AAGCC,EAAAA,SAAS,EAAEL;AAHZ,CADc,EAMd;AACCG,EAAAA,IAAI,EAAE,OADP;AAECC,EAAAA,IAAI,EAAE,MAFP;AAGCC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,mBAAP,CAAN;AAAA,GAHZ;AAICC,EAAAA,WAAW,EAAE,qBAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAChCC,IAAAA,cAAc,CAACD,IAAD,CAAd;AACA;AANF,CANc,EAcd;AACCN,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,IAAI,EAAE,OAFP;AAGC;AACA;AACA;AACAC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AANZ,CAdc,CAAf;AAwBA,IAAMM,MAAM,GAAGb,YAAY,CAAC;AAC3Bc,EAAAA,OAAO,EAAEb,gBAAgB,EADE;AAE3BG,EAAAA,MAAM,EAANA;AAF2B,CAAD,CAA3B;AAKA,eAAeS,MAAf;;SAEeD,c;;;;;4EAAf,iBAA8BD,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AACKI,YAAAA,IADL,GACYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAX,CADZ;AAEC,gBAAIJ,IAAI,KAAK,IAAb,EAAmBJ,IAAI,CAAC;AAAEL,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AAFpB;AAAA;AAAA,mBAKQH,KAAK,CAACiB,GAAN,CAAU,8CAAV,EAA0D;AAC/DC,cAAAA,MAAM,EAAE;AAAEC,gBAAAA,YAAY,EAAEP,IAAI,CAACQ;AAArB;AADuD,aAA1D,CALR;;AAAA;AAQEZ,YAAAA,IAAI;AARN;AAAA;;AAAA;AAAA;AAAA;AAUEa,YAAAA,OAAO,CAACC,GAAR;AACAP,YAAAA,YAAY,CAACQ,UAAb,CAAwB,IAAxB;AACAf,YAAAA,IAAI;;AAZN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport Login from '../views/Login.vue';\nimport axios from 'axios';\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tname: 'Login',\n\t\tcomponent: Login,\n\t},\n\t{\n\t\tpath: '/home',\n\t\tname: 'Home',\n\t\tcomponent: () => import('../views/Home.vue'),\n\t\tbeforeEnter: (to, from, next) => {\n\t\t\tUserMiddleware(next);\n\t\t},\n\t},\n\t{\n\t\tpath: '/about',\n\t\tname: 'About',\n\t\t// route level code-splitting\n\t\t// this generates a separate chunk (about.[hash].js) for this route\n\t\t// which is lazy-loaded when the route is visited.\n\t\tcomponent: () => import('../views/About.vue'),\n\t},\n];\n\nconst router = createRouter({\n\thistory: createWebHistory(),\n\troutes,\n});\n\nexport default router;\n\nasync function UserMiddleware(next) {\n\tlet data = JSON.parse(localStorage.getItem('BC'));\n\tif (data === null) next({ name: 'Login' });\n\n\ttry {\n\t\tawait axios.get('https://api.betaseries.com/members/is_active', {\n\t\t\tparams: { access_token: data.token },\n\t\t});\n\t\tnext();\n\t} catch (error) {\n\t\tconsole.log(error);\n\t\tlocalStorage.removeItem('BC');\n\t\tnext()\n\t}\n}\n"]}]}